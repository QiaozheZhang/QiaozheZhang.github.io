---
---

//
// IMPORTS
//

@import "reset";
@import "variables";
// Syntax highlighting @import is at the bottom of this file

/**************/
/* BASE RULES */
/**************/

html {
  font-size: 100%;
}

body {
	background: $white;
  font: 16px/1.3 'Lato', Verdana, Helvetica, sans-serif;
  color: $darkGray;
}

.container {
  margin: 0 auto;
  max-width: 1000px;
  padding: 0 20px;
  width: 100%;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  color: $darkerGray;
  font-weight: 400;

  line-height: 1.7;
  margin: 1em 0 15px;
  padding: 0;

  @include mobile {
    line-height: 1.4;
  }
}

h1 {
  font-size: 24px;
  a {
    color: inherit;
  }
}

h2 {
  font-size: 20px;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 15px;
  color: $gray;
}

p {
  margin: 13px 0;
}

a {
  color: $blue;
  text-decoration: none;
	cursor: pointer;
  &:hover, &:active {
    color: $blue;
  }
}

ul, ol {
  margin: 15px 0;
  padding-left: 30px;
}

ul {
  list-style-type: disc;
}

ol {
  list-style-type: decimal;
}

ol ul, ul ol, ul ul, ol ol {
  margin: 0;
}

ul ul, ol ul {
  list-style-type: circle;
}

em, i {
  font-style: italic;
}

strong, b {
  font-weight: bold;
}

img {
  max-width: 100%;
}

// Fixes images in popup boxes from Google Translate
.gmnoprint img {
  max-width: none;
}

.date {
  font-style: italic;
  color: $gray;
}

.hline{ display:inline-flex; align-items:center; gap:8px; }
.badge{
  display:inline-flex; align-items:center;  /* 徽标内部也居中 */
  padding:2px 4px; border-radius:3px;
  background:#1e88e5; color:#fff; font-weight:100;
  line-height:1; font-size:13px;
}
/* 可选：大小/颜色修饰 */
.badge.sm{ padding:2px 6px; font-size:12px; border-radius:4px; vertical-align:-1px; }
.badge.gray{ background:#64748b; }
.badge.green{ background:#16a34a; }

.newbadges { display:flex; gap:3px; flex-wrap:wrap; margin:1px 0 1px; }
.newbadge {
	display:inline-block; padding:2px 4px; border-radius:2px;
	background:#999; color:#fff; font-weight:100; line-height:1;
	text-decoration:none; font-size:13px;
}
.newbadge:hover { filter: brightness(0.95); }
.newbadge:focus-visible { outline:2px solid currentColor; outline-offset:2px; }
.newbadge.green  	 { background:#43a047; } /* bib */
.newbadge.orange 	 { background:#f6a623; } /* abstract */
.newbadge.blue   	 { background:#1e88e5; } /* arXiv */
.newbadge.red    	 { background:#e53935; } /* code/data */
.newbadge.gray       { background:#757575; }          /* 灰 */
.newbadge.slate      { background:#546e7a; }          /* 蓝灰 */
.newbadge.brown      { background:#6d4c41; }          /* 棕 */
.newbadge.yellow     { background:#fbc02d; color:#111; } /* 黄（浅底→深字） */
.newbadge.amber      { background:#ffb300; color:#111; } /* 琥珀 */
.newbadge.lime       { background:#9ccc65; color:#111; } /* 青柠 */
.newbadge.lightgreen { background:#8bc34a; color:#111; } /* 浅绿 */
.newbadge.emerald    { background:#2e7d32; }          /* 祖母绿-深 */
.newbadge.teal       { background:#00897b; }          /* 水鸭 */
.newbadge.cyan       { background:#00acc1; }          /* 青 */
.newbadge.sky        { background:#29b6f6; }          /* 天蓝 */
.newbadge.indigo     { background:#3949ab; }          /* 靛蓝 */
.newbadge.navy       { background:#1a237e; }          /* 海军蓝-深 */
.newbadge.deeppurple { background:#5e35b1; }          /* 深紫 */
.newbadge.purple     { background:#8e24aa; }          /* 紫 */
.newbadge.violet     { background:#7e57c2; }          /* 紫罗兰 */
.newbadge.pink       { background:#d81b60; }          /* 粉玫 */
.newbadge.rose       { background:#e91e63; }          /* 玫红 */
.newbadge.maroon     { background:#ad1457; }          /* 酒红 */
.newbadge.crimson    { background:#c2185b; }          /* 深玫红 */
.newbadge.deeporange { background:#f4511e; }          /* 深橙 */
.newbadge.orange2    { background:#fb8c00; }          /* 橙(次) */
.newbadge.tangerine  { background:#f57c00; }          /* 橘 */
.newbadge.coral      { background:#ff7043; }          /* 珊瑚 */
.newbadge.red2       { background:#d32f2f; }          /* 红(次) */
.newbadge.black      { background:#212121; }          /* 近黑 */
.newbadge.white      { background:#ffffff; color:#111; border:1px solid #ddd; } /* 白底深字 */
/* 让内容默认隐藏，只在被锚点命中时显示 */
.bibbox {
  display: none;
  border: 2px dotted #bbb;
  border-radius: 8px;
  padding: 12px 16px;
  margin-top: 8px;
}
.bibbox{
  font-size: 13px;   /* 或 15px/14px 等 */
  line-height: 1.25;
}
/* 仅在 bibbox 内让 pre/code 自动换行 */
.bibbox pre,
.bibbox code {
  white-space: pre-wrap;   /* 保留换行与缩进，并允许自动换行 */
  overflow-wrap: anywhere; /* 长单词/长URL也可断行 */
  word-break: break-word;  /* 兼容性兜底 */
}
.bibbox pre,
.bibbox code{
  font-size: 13px; 
  line-height: 1.25;
}

.bibbox{
  background:#fafafa;
  color:#111;
  border-color:#bbb;
}
.bibbox pre,
.bibbox code{
  background: transparent !important;
  color: inherit;
}
@media (prefers-color-scheme: dark){
  .bibbox{
    background:#111;        /* 或 #0f1115 / #13141a */
    color:#ddd;
    border-color:#444;      /* 虚线在深色下也清晰 */
  }
  .bibbox a{ color:#8ab4f8; }  /* 可选：链接色 */
  .bibbox pre,
  .bibbox code{
    background: transparent !important;
    color: inherit;
  }
}

/* 根据容器 data-open 决定显示哪个块（容器需在内容块之前） */
.newbadges[data-open="bib"] ~ #bib { display: block; }
.newbadges[data-open="abstract"] ~ #abstract { display: block; }

/* 被选中的徽章高亮（可按需调整） */
.newbadges[data-open="bib"] .newbadge[data-tab="bib"],
.newbadges[data-open="abstract"] .newbadge[data-tab="abstract"]{
  filter: brightness(0.95);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.08);
}

/* 让“按钮”可点 */
.newbadges .newbadge[data-tab]{ cursor:pointer; user-select:none; }

/* 统一重置：button/label/a 这三种做成 .newbadge 时都走同一套 */
.newbadges .newbadge {
  -webkit-appearance: none;
  appearance: none;
  border: 0;
}

/* 先关掉各家默认 outline */
.newbadges .newbadge:focus { outline: none !important; }

/* 用 box-shadow 做可访问的焦点环（跟随圆角） */
.newbadges .newbadge:focus-visible {
  outline: none !important;
  box-shadow: 0 0 0 2px rgba(0,0,0,.18); /* 颜色可按需调整/用 currentColor */
  border-radius: 8px;                    /* 与徽章圆角一致 */
}
.newbadges .newbadge {
  font-weight: 300;          /* 你原来的设定 */
  font-size: 13px;
  line-height: 1;
}

.underline{
  text-decoration: underline;
  text-decoration-skip-ink: none;
  text-underline-offset: 3px;
  text-decoration-thickness: 1px;
}

// Specify the color of the selection
::-moz-selection {
  color: $black;
  background: $lightGray;
}
::selection {
  color: $black;
  background: $lightGray;
}

// Nicolas Gallagher's micro clearfix hack
// http://nicolasgallagher.com/micro-clearfix-hack/
.clearfix:before,
.clearfix:after {
    content: " ";
    display: table;
}

.clearfix:after {
    clear: both;
}

/*********************/
/* LAYOUT / SECTIONS */
/*********************/

//
// .masthead
//

.wrapper-masthead {
  margin-bottom: 50px;
}

.masthead {
  padding: 20px 0;
  border-bottom: 1px solid $lightGray;

  @include mobile {
    text-align: center;
  }
}

.site-avatar {
  float: left;
  width: 70px;
  height: 70px;
  margin-right: 15px;

  @include mobile {
    float: none;
    display: block;
    margin: 0 auto;
  }

  img {
    border-radius: 5px;
  }
}

.site-info {
  float: left;

  @include mobile {
    float: none;
    display: block;
    margin: 0 auto;
  }
}

.site-name {
  margin: 0;
  color: #000;
  cursor: pointer;
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  font-weight: 400;
  font-size: 28px;
  letter-spacing: 1px;
}

.site-description {
  margin: -5px 0 0 0;
  color: $gray;
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  font-size: 16px;

  @include mobile {
    margin: 3px 0;
  }
}

nav {
  float: right;
  margin-top: 23px; // @TODO: Vertically middle align
  font-family: $helveticaNeue;
  font-size: 18px;

  @include mobile {
    float: none;
    margin-top: 9px;
    display: block;
    font-size: 16px;
  }

  a {
    margin-left: 20px;
    color: $darkGray;
    text-align: right;
    font-weight: 300;
    letter-spacing: 1px;

    @include mobile {
      margin: 0 10px;
      color: $blue;
    }
  }
}

//
// .main
//

.posts > .post {
  padding-bottom: 2em;
  border-bottom: 1px solid $lightGray;
}

.posts > .post:last-child {
  padding-bottom: 1em;
  border-bottom: none;
}

.post {
  blockquote {
    margin: 1.8em .8em;
    border-left: 2px solid $gray;
    padding: 0.1em 1em;
    color: $gray;
    font-size: 22px;
    font-style: italic;
  }

  .comments {
    margin-top: 10px;
  }

  .read-more {
    text-transform: uppercase;
    font-size: 15px;
  }
}

.wrapper-footer {
  margin-top: 50px;
  border-top: 1px solid #ddd;
  border-bottom: 1px solid #ddd;
  background-color: $lightGray;
}

footer {
  padding: 20px 0;
  text-align: center;
}

@media (prefers-color-scheme: dark) {
  body {
    background: #202124;
    color: white;
  }

  h1, h2, h3, h4, h5, h6 {
    color: white;
  }

  .site-name {
    color: white;
  }

  .site-description {
    color: #ccc;
  }

  nav a {
    color: #ccc;

    &:hover, &:active {
      color: white;
    }
  }

  .date,
  blockquote {
    color: #ccc;
    border-left-color: #444;
  }

  .wrapper-footer {
    background-color: #222;
    border-top: 1px solid #333;
    border-bottom: 1px solid #333;
  }

  ::selection {
    color: black;
    background: #eee;
  }

  ::-moz-selection {
    color: black;
    background: #eee;
  }
}


// Settled on moving the import of syntax highlighting to the bottom of the CSS
// ... Otherwise it really bloats up the top of the CSS file and makes it difficult to find the start
@import "highlights";
@import "svg-icons";
